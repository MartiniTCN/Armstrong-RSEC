<!DOCTYPE html><html lang=zh-CN class="scroll-smooth dark"><head><link rel=icon href="https://i.stardots.io/armstrong/Armstrong%20Logo%20-%20Martin.png?width=64" type=image/png><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>è§£å†³æ–¹æ¡ˆæ¢ç´¢ä¸è€ƒè¯•ç³»ç»Ÿ</title><script src=https://cdn.tailwindcss.com></script><script>tailwind.config={darkMode:"class",theme:{extend:{colors:{primary:"#2563eb"},borderRadius:{DEFAULT:"1rem"}}}}</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/twemoji.min.js></script><style></style><style>#cnFlag,#ukFlag{font-size:30px;vertical-align:middle}.shake{animation:shake .4s ease-in-out}@keyframes shake{0%,100%{transform:translateX(0)}20%,60%{transform:translateX(-8px)}40%,80%{transform:translateX(8px)}}.animate-fade-in{opacity:0;animation:fadeIn 1s ease-out forwards}@keyframes fadeIn{to{opacity:1}}</style><style>#registerMessage{transition:opacity .6s ease,transform .3s ease;transform:translateY(0)}#registerMessage.hidden{opacity:0;transform:translateY(-10px)}</style><style>#modal{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5)}#modal .bg-white{background-color:#fff;padding:20px;border-radius:8px;width:100%;max-width:400px;text-align:center}</style></head><body class="relative text-gray-900 dark:text-gray-100 transition-colors duration-300" style="background-image:url('https://i.stardots.io/armstrong/webpage.jpg');background-size:cover;background-position:center"><div class="absolute inset-0 bg-white/20 dark:bg-black/30 backdrop-blur-[2px] z-0"></div><div id=loadingOverlay class="fixed inset-0 bg-white dark:bg-gray-900 z-50 flex flex-col items-center justify-center"><img src="https://i.stardots.io/armstrong/Armstrong%20Logo%20-%20Martin.png?width=200" alt=Loading... class="animate-spin-slow w-12 h-12 mb-4"><p class="text-gray-700 dark:text-gray-200 text-sm">æ­£åœ¨åŠ è½½ï¼Œè¯·ç¨å€™...</p></div><main class="min-h-screen flex items-center justify-center p-4 relative z-10"><section id=loginCard class="w-full max-w-md bg-white/30 dark:bg-white/10 backdrop-blur-xl border border-white/30 dark:border-white/10 rounded-2xl shadow-xl transition-all duration-300 ease-in-out transform pt-5 pb-3 px-6 sm:pt-5 sm:pb-3 sm:px-7"><div class="text-center mb-4 animate-fade-in"><img alt="Armstrong Logo" class="h-12 mx-auto mb-3" src="https://i.stardots.io/armstrong/Armstrong%20Logo%20-%20Martin.png?width=500"><h1 class="text-xl font-bold" id=titleText>äº§å“å­¦ä¹ ä¸è¯„æµ‹ç³»ç»Ÿ</h1><p class="text-sm text-gray-500 dark:text-gray-200" id=subtitleText>æœ‰ç›®æ ‡åœ°å­¦ä¹  æœ‰æ´å¯Ÿåœ°è¯„ä¼°</p></div><form method=post action=/login id=loginForm class=space-y-5><div id=loginProgress class="hidden text-center text-gray-500 dark:text-gray-300">æ­£åœ¨éªŒè¯ï¼Œè¯·ç¨å€™...</div><div class=relative><input type=text name=username placeholder=ç”¨æˆ·å required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none transition focus:outline-none focus:ring-0"> <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><input type=password id=password name=password placeholder=å¯†ç  required class="w-full px-4 py-2 pr-10 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none transition focus:outline-none focus:ring-0"> <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i> <button type=button onclick=togglePassword() class="absolute right-2 top-1/2 transform -translate-y-1/2 text-white/80 hover:text-white focus:outline-none"><i id=passwordIcon class="fas fa-eye-slash"></i></button></div>{% if error %}<div class="text-sm text-red-500 text-center font-semibold -mt-2">{{ error }}</div>{% endif %}<div class="flex flex-col items-center mt-4 mb-4"><div class="flex justify-center gap-4"><button type=submit id=loginBtn class="px-4 py-1 text-xs text-white rounded-full bg-primary hover:bg-blue-700 transition"><span id=loginBtnText>ç™»å½•</span></button> <button type=button onclick='toggleForm("register")' class="px-4 py-1 text-xs rounded-full bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-400 dark:hover:bg-gray-600 transition"><span id=registerBtnText>æ³¨å†Œ</span></button></div></div></form><button type=button onclick=toggleLang() class="absolute bottom-3 right-4 w-4 h-4 rounded-full overflow-hidden shadow hover:scale-110 transition-transform z-20"><img id=languageFlag src=https://flagcdn.com/cn.svg alt=Language class="w-full h-full object-cover rounded-full"></button><form method=post action=/register id=registerForm class="space-y-3 hidden"><div class="absolute top-3 left-4"><button type=Back2Login onclick='toggleForm("login")' class="text-sm text-gray-600 dark:text-gray-300 hover:underline"><span id=backToLoginText>â† è¿”å›ç™»å½•</span></button></div><div class=relative><input name=username placeholder=ç”¨æˆ·åï¼ˆå­—æ¯+æ•°å­—ï¼‰ required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><input type=password id=regPassword name=password placeholder=å¯†ç  required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i> <button type=button onclick='togglePassword("regPassword","regPwdIcon")' class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-300 hover:text-blue-600 focus:outline-none"><i id=regPwdIcon class="fas fa-eye-slash"></i></button></div><div class=relative><input name=company placeholder=å•ä½åç§° required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-building absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><input name=city placeholder=åŸå¸‚ required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-city absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><input name=email placeholder=é‚®ç®± required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><input name=phone placeholder=ç”µè¯ required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-phone-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class=relative><select name=sales_name id=sales_name class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm" required oninvalid='this.setCustomValidity("è¯·é€‰æ‹©é”€å”®å§“å")' oninput='setCustomValidity("")'><option value="" disabled=disabled selected=selected hidden>è¯·é€‰æ‹©é”€å”®å§“å</option><option value="Wu Zhifei">Wu Zhifei</option><option value="Yang Guangming">Yang Guangming</option><option value="Xu Lei">Xu Lei</option><option value="Jiang Yimin">Jiang Yimin</option><option value="Yan Maohua">Yan Maohua</option><option value="Leo Tian">Leo Tian</option><option value="Martin Peng">Martin Peng</option><option value="Richard Zhang">Richard Zhang</option></select> <i class="fas fa-user-tie absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none"></i></div><div class=relative><input name=invite_code placeholder="é‚€è¯·ç ï¼ˆè¯·è”ç³» RSEC éƒ¨é—¨ï¼‰" required class="w-full px-4 py-2 pl-10 rounded-md bg-white/10 dark:bg-gray-800/30 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-0 text-sm"> <i class="fas fa-key absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i></div><div class="flex justify-center mt-4 mb-6"><button type=submit onclick="userTriggeredRegister=!0" class="px-5 py-1.5 text-xs text-white rounded-full bg-primary hover:bg-blue-700 transition"><span id=finalRegisterBtnText>æ³¨å†Œ</span></button></div><div id=loadingMessage class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 text-white p-4 rounded-lg shadow-md">æ³¨å†Œæ­£åœ¨æ ¡éªŒï¼Œè¯·ç¨å€™...</div><div id=registerMessage class="hidden text-center font-semibold"></div></form></section></main><script>function toggleForm(e){const o=document.getElementById("loginForm"),g=document.getElementById("registerForm");o&&g?(o.classList.toggle("hidden","login"!==e),g.classList.toggle("hidden","register"!==e),console.log("Toggle Form:",e)):console.error("Missing loginForm or registerForm in toggleForm.")}window.addEventListener("DOMContentLoaded",(()=>{toggleForm("register"===(new URLSearchParams(window.location.search).get("form")||"login")?"register":"login")}))</script><script>let isChinese=!0;function setLang(e){isChinese=e;const t=document.getElementById("titleText"),n=document.getElementById("subtitleText");t&&n&&(t.textContent=isChinese?"äº§å“å­¦ä¹ ä¸è¯„æµ‹ç³»ç»Ÿ":"Learning & Evaluation System",n.textContent=isChinese?"æœ‰ç›®æ ‡åœ°å­¦ä¹  æœ‰æ´å¯Ÿåœ°è¯„ä¼°":"Learn with purpose. Evaluate with insight.");const i=document.querySelector('#loginForm input[name="username"]'),s=document.querySelector('#loginForm input[name="password"]'),o=document.querySelector('#registerForm input[name="username"]'),r=document.querySelector('#registerForm input[name="password"]'),a=document.querySelector('#registerForm input[name="company"]'),l=document.querySelector('#registerForm input[name="city"]'),c=document.querySelector('#registerForm input[name="email"]'),m=document.querySelector('#registerForm input[name="phone"]'),d=document.querySelector('#registerForm select[name="sales_name"]'),u=document.querySelector('#registerForm input[name="invite_code"]'),g=document.querySelector('#registerForm button[type="submit"]'),h=document.getElementById("backToLoginText");if(i&&s&&(i.placeholder=isChinese?"ç”¨æˆ·å":"Username",s.placeholder=isChinese?"å¯†ç ":"Password"),o&&r&&a&&l&&c&&m&&d&&u&&g&&h&&(o.placeholder=isChinese?"ç”¨æˆ·åï¼ˆå­—æ¯+æ•°å­—ï¼‰":"Username (letters + digits)",r.placeholder=isChinese?"å¯†ç ":"Password",a.placeholder=isChinese?"å•ä½åç§°":"Company",l.placeholder=isChinese?"åŸå¸‚":"City",c.placeholder=isChinese?"é‚®ç®±":"Email",m.placeholder=isChinese?"ç”µè¯":"Phone",u.placeholder=isChinese?"é‚€è¯·ç ï¼ˆè¯·è”ç³» RSEC éƒ¨é—¨ï¼‰":"Invite code (Contact China RSEC)",g.textContent=isChinese?"æ³¨å†Œ":"Register",h.textContent=isChinese?"â† è¿”å›ç™»å½•":"â† Back",d)){const e=d.value;d.innerHTML="";const t=document.createElement("option");t.disabled=!0,t.selected=!0,t.hidden=!0,t.value="",t.textContent=isChinese?"è¯·é€‰æ‹©é”€å”®å§“å":"Please select a salesperson",d.appendChild(t);["Wu Zhifei","Yang Guangming","Xu Lei","Jiang Yimin","Yan Maohua","Leo Tian","Martin Peng","Richard Zhang"].forEach((t=>{const n=document.createElement("option");n.value=t,n.textContent=t,t===e&&(n.selected=!0),d.appendChild(n)}))}const C=document.getElementById("languageFlag");C&&(C.src=isChinese?"https://flagcdn.com/cn.svg":"https://flagcdn.com/us.svg",C.alt=isChinese?"ä¸­æ–‡":"English",C.onerror=function(){C.textContent=isChinese?"ğŸ‡¨ğŸ‡³":"ğŸ‡¬ğŸ‡§"});const p=document.getElementById("loginBtnText"),y=document.getElementById("registerBtnText");p&&(p.textContent=isChinese?"ç™»å½•":"Sign In"),y&&(y.textContent=isChinese?"æ³¨å†Œ":"Sign Up");const S=document.getElementById("loadingMessage");S&&(S.textContent=isChinese?"æ³¨å†Œæ­£åœ¨æ ¡éªŒï¼Œè¯·ç¨å...":"Registration is being validated, please wait..."),localStorage.setItem("isChinese",isChinese?"1":"0")}function toggleLang(){setLang(!isChinese)}window.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("isChinese");setLang(null===e||"1"===e)}))</script><script>document.addEventListener('DOMContentLoaded', () => {
    // âœ… 1. æ³¨å†ŒæŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆåˆ‡æ¢åˆ°æ³¨å†Œè¡¨å•ï¼‰
    const registerBtn = document.getElementById('registerBtn');
    if (registerBtn) {
      registerBtn.addEventListener('click', function () {
        toggleForm('register');
      });
    }
  
    // âœ… 2. ç™»å½•å¤±è´¥æ—¶è§¦å‘æŠ–åŠ¨åŠ¨ç”»å¹¶æ¸…ç©ºå¯†ç ï¼ˆæ¥è‡ªåç«¯æ¨¡æ¿å˜é‡ï¼‰
    {% if shake %}
      const card = document.getElementById('loginCard');
      const passwordInput = document.querySelector('#loginForm input[name="password"]');
      if (card) {
        card.classList.remove('shake');
        void card.offsetWidth; // å¼ºåˆ¶åˆ·æ–°
        card.classList.add('shake');
      }
      if (passwordInput) passwordInput.value = '';
    {% endif %}
  
    // âœ… 3. é¡µé¢åŠ è½½åéšè—é®ç½©
    const overlay = document.getElementById('loadingOverlay');
    if (overlay) {
      overlay.style.transition = 'opacity 0.5s';
      overlay.style.opacity = 0;
      setTimeout(() => overlay.style.display = 'none', 500);
    }
  
    // âœ… 4. è°ƒè¯•ï¼šç¡®è®¤æŒ‰é’®å­˜åœ¨æ€§
    const loginBtnText = document.getElementById("loginBtnText");
    const registerBtnText = document.getElementById("registerBtnText");
    if (loginBtnText) console.log("Login button text is available");
    if (registerBtnText) console.log("Register button text is available");
  });</script><script>function togglePassword(s="password",e="passwordIcon"){const t=document.getElementById(s),a=document.getElementById(e);t&&a&&("password"===t.type?(t.type="text",a.classList.remove("fa-eye-slash"),a.classList.add("fa-eye")):(t.type="password",a.classList.remove("fa-eye"),a.classList.add("fa-eye-slash")))}</script><script>let userTriggeredRegister=!1;function showLoadingMessage(){document.getElementById("loadingMessage").classList.remove("hidden")}document.getElementById("registerForm").addEventListener("submit",(async function(e){if(e.preventDefault(),!userTriggeredRegister)return;userTriggeredRegister=!1,document.getElementById("loadingMessage").classList.remove("hidden");const t=new FormData(this),s={};t.forEach(((e,t)=>s[t]=e));try{const e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await e.json(),n=document.getElementById("toast"),d=document.getElementById("toastMessage"),o=document.getElementById("toastConfirmBtn");document.getElementById("loadingMessage").classList.add("hidden"),t.success?(d.textContent="âœ… æ³¨å†ŒæˆåŠŸï¼Œè¯·ç¡®è®¤",n.classList.remove("hidden"),o.onclick=()=>{n.classList.add("hidden"),toggleForm("login"),d.textContent=""}):(d.textContent="âŒ "+t.message,n.classList.remove("hidden"),o.onclick=()=>{n.classList.add("hidden"),d.textContent=""})}catch(e){alert("âš ï¸ ç³»ç»Ÿå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•"),console.error(e)}}))</script><script>document.getElementById("loginForm").addEventListener("submit",(async function(e){e.preventDefault();const t=document.getElementById("validationAlert");t.classList.remove("hidden");const n=new FormData(this);try{const e=await fetch("/login",{method:"POST",body:n}),t=await e.json();e.ok&&t.success?window.location.href="/course":alert(t.message||"ç”¨æˆ·åæˆ–å¯†ç æ— æ•ˆï¼Œè¯·ç¡®è®¤ï¼")}catch(e){console.error("ç™»å½•å¼‚å¸¸ï¼š",e),alert("ç³»ç»Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•")}finally{setTimeout((()=>{t.classList.add("hidden")}),3e3)}})),window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("validationAlert");e&&e.classList.add("hidden")}))</script><div id=toast class="hidden fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-white/80 dark:bg-gray-800/90 text-black dark:text-white text-sm px-5 py-3 rounded-xl shadow-xl backdrop-blur-md border border-gray-300 dark:border-white/10 flex items-center gap-4 max-w-[90%]"><span id=toastMessage class=font-semibold>âœ… æ³¨å†ŒæˆåŠŸï¼Œè¯·ç¡®è®¤</span><button id=toastConfirmBtn class="ml-auto px-4 py-1 text-xs rounded-full bg-primary text-white hover:bg-blue-700 transition">ç¡®è®¤</button></div><script>const isLocalhost="localhost"===location.hostname||"127.0.0.1"===location.hostname;isLocalhost||(document.addEventListener("contextmenu",(e=>e.preventDefault())),document.addEventListener("keydown",(e=>{("F12"===e.key||e.ctrlKey&&e.shiftKey&&["I","J","C"].includes(e.key.toUpperCase())||e.ctrlKey&&"U"===e.key.toUpperCase())&&e.preventDefault()})))</script><div id=validationAlert class="hidden fixed top-4 left-1/2 transform -translate-x-1/2 px-4 py-2 text-white bg-blue-500 rounded-lg shadow-lg">æ­£åœ¨éªŒè¯ï¼Œè¯·ç¨å€™...</div></body><script>window.addEventListener("DOMContentLoaded",(()=>{userTriggeredRegister=!1;const e=document.getElementById("modal");e&&e.classList.add("hidden")}));const msg=document.getElementById("registerMessage");msg&&(msg.classList.add("hidden"),msg.textContent="")</script></html>